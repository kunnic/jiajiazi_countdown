<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown Timer</title>

    <!-- Import CSS -->
    <link rel="stylesheet" href="/style.css">

    <!-- Import Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- Import JQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

    <!-- Import Countdown Timer -->
    <script src="countdown.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap');

        body {
            font-family: 'Comfortaa', sans-serif;
        }

        .text-center {
            text-align: center;
        }

        .centered-input {
            display: flex;
            justify-content: center;
        }

        .margin-top-200 {
            margin-top: 200px;
        }
    </style>
</head>

<body>
    <div>
        <h1 class="text-center margin-top-200">
            <b>
                JiaJiaZi's Countdown Timer
            </b>
        </h1>
        <hr>
        <p id="timer" class="text-center"></p>

        <div class="text-center">
            <label for="date"><b>to</b></label>
            <!-- 2 Choose: Three years contract and Custom Date -->
            <!-- Default option is three years contract -->
            <select id="date-select">
                <option value="three-years-contract">the Three Years Contract</option>
                <option value="custom-date">Custom Date</option>
            </select>

            <div class="text-center centered-input">
                <input type="date" id="date" style="display: none;" value="2026-10-18">
            </div>
        </div>
    </div>
</body>

<script>
    var date = document.getElementById("date");
    var dateSelect = document.getElementById("date-select");
    var countDownDate;

    // Function to update the countdown date based on the selected option
    function updateCountdownDate() {
        if (dateSelect.value == "custom-date") {
            date.style.display = "block";
            countDownDate = new Date(date.value).getTime();
        } else {
            date.style.display = "none";
            var defaultDate = new Date("2026-10-18");
            countDownDate = defaultDate.getTime();
        }
    }

    // Event listener for the date select dropdown
    dateSelect.addEventListener("change", function() {
        updateCountdownDate();
    });

    // Event listener for the custom date input
    date.addEventListener("change", function() {
        countDownDate = new Date(date.value).getTime();
    });

    // Set the initial countdown date to October 18, 2026
    var defaultDate = new Date("2026-10-18");
    countDownDate = defaultDate.getTime();

    // Check the selected option on page load and update the countdown date
    window.onload = function() {
        updateCountdownDate();
    };

    // Update the countdown every 1 second
    var x = setInterval(function() {
        var now = new Date().getTime();
        var distance = countDownDate - now;

        // Check if the countdown date is valid
        if (isNaN(distance)) {
            document.getElementById("timer").innerHTML = "Invalid Date";
            return;
        }

        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Display the result in the element with id="timer"
        document.getElementById("timer").innerHTML = days + " days " + hours + " hours " + minutes + " minutes " + seconds + " seconds ";

        // If the countdown is over, write some text
        if (distance < 0) {
            clearInterval(x);
            document.getElementById("timer").innerHTML = "EXPIRED";
        }
    }, 1000);
</script>
</html>